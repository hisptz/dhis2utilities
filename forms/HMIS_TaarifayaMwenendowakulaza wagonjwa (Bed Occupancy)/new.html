
	<script>
    if (dhis2.dsr){
        function calculateReportIndicators() {
            $('input[name="indicatorFormula"]').css('border','none'); $('input[name="indicatorFormula"]').css('background-color','#FFFFFF'); $('input[name="indicatorFormula"]').css('font-weight','500');
            $('input[name ="indicatorFormula"]').each(function (i, form) {
                var unReplacedFormula = $(this).attr('indicatorFormula');
                var elementComboArr = unReplacedFormula.replace("/",",").split("(").join("").split(")").join("").split(",")[0].split("+")
                var sum = 0;
                for (var count = 0; count < elementComboArr.length; count++) {
                    if (elementComboArr[count].length > 18) {
                        var toReplace='';
                        var elementCombo = elementComboArr[count].split(".");
                        if (isNaN(parseInt($("span[data-co="+elementCombo[1].replace("}","")+"][data-de="+elementCombo[0].replace("#{","")+"]").text()))=== false) {
                            sum += parseInt($("span[data-co="+elementCombo[1].replace("}","")+"][data-de="+elementCombo[0].replace("#{","")+"]").text());
                            toReplace += elementCombo[0]+'.'+elementCombo[1];
                        }
                        unReplacedFormula = unReplacedFormula.replace(toReplace, sum);
                    }
                }
                if (parseInt(eval(unReplacedFormula))){
                    $('#'+form.id).val(parseInt(eval(unReplacedFormula)));
                }
            });
        }
        $(document).ready(function(){
            calculateReportIndicators();
        });
    }else {
        dhis2.util.on('dhis2.de.event.dataValuesLoaded', function () {
            $('input[name="indicatorFormula"]').css('background-color','#FFFFFF'); $('input[name="indicatorFormula"]').css('font-weight','500'); $('input[name="indicatorFormula"]').css('border','1px grey solid'); $('input[name="indicatorFormula"]').css('text-align','center');
            calculateIndicatorValue();
            addListerners();
        });

        function addListerners(){
            $('input[name ="entryfield"]').each(function (i) {
                $(this).change(function () {
                    //codes for on changes
                    calculateIndicatorValue();
                });
            });
        }

        function calculateIndicatorValue() {
            $('input[name ="indicatorFormula"]').each( function (i, form) {
                var unReplacedFormula = $(this).attr('indicatorFormula');
                var newFormula = unReplacedFormula;
                unReplacedFormula.split("/").forEach(function(entryStr){
                    if (entryStr.length > 18 && entryStr.length < 30 ) {
                        if (entryStr.indexOf("*") > 1) {
                            newFormula = newFormula.replace(entryStr.split("*")[0].split("(").join("").split(")").join(""), 'Number($("#'+entryStr.split("*")[0].split("(").join("").split(")").join("").split("#{").join("").split("}").join("").replace(".","-")+'-val").val())');
                        } else {
                            newFormula = newFormula.replace(entryStr.split("(").join("").split(")").join(""),'Number($("#'+entryStr.split("(").join("").split(")").join("").split("#{").join("").split("}").join("").replace(".","-")+'-val").val())');
                        }
                    } else if(entryStr.length > 30) {
                        entryStr.split("+").forEach(function(entryStr2){
                            if (entryStr2.indexOf("*") > 1) {
                                newFormula = newFormula.replace(entryStr2.split("*")[0].split("(").join("").split(")").join(""), 'Number($("#'+entryStr2.split("*")[0].split("(").join("").split(")").join("").split("#{").join("").split("}").join("").replace(".","-")+'-val").val())');
                            } else {
                                newFormula = newFormula.replace(entryStr2.split("(").join("").split(")").join(""),'Number($("#'+entryStr2.split("(").join("").split(")").join("").split("#{").join("").split("}").join("").replace(".","-")+'-val").val())');
                            }
                        })
                    }
                });

                if (newFormula !== undefined) {
                    if (isNaN(eval("("+newFormula+")")) !== true) {
                        $('#'+form.id).val(parseInt(eval("("+newFormula+")")));
                    } else {
                        $('#'+form.id).val(0);
                    }
                }
            });
        }
    }
</script>

<script>
	 var indicatorAggregations = {};
</script>
<p style="text-align: center;"><span style="color: rgb(0, 0, 0); font-family: Calibri; font-size: 15px; line-height: normal; white-space: pre-wrap;">TAARIFA YA MWENENDO WA KULAZA WAGONJWA KATIKA HOSPITALI/KITUO CHA AFYA</span></p>

<p style="text-align: center;"><span style="color: rgb(0, 0, 0); font-family: Calibri; font-size: 15px; line-height: normal; white-space: pre-wrap;">ZA WILAYA /MIKOA/KANDA/TAIFA KUTOKA VITUO VYA UMMA</span></p>

<table border="1" cellpadding="0" cellspacing="0" dir="ltr" style="table-layout: fixed; font-family: Calibri; border-collapse: collapse; border: 1px solid rgb(204, 204, 204);">
	<colgroup>
		<col width="26">
		<col width="560">
		<col width="95">
		<col width="235">
	</colgroup>
	<tbody>
		<tr style="height:69px;">
			<td>Na.</td>
			<td>Maelezo</td>
			<td>Wodi ya wazazi</td>
			<td style="white-space:pre-wrap;">Wodi Zingine za kulaza Wagonjwa (IPD)</td>
		</tr>
		<tr style="height:44px;">
			<td>a</td>
			<td>Vitanda Vilivyopo</td>
			<td style="padding:0px 3px 0px 3px;vertical-align:bottom;"><input id="BSE1QfYCdvP-acSiErf74cF-val" style="width:3em;" title="" value=""></td>
			<td style="padding:0px 3px 0px 3px;vertical-align:bottom;"><input id="BSE1QfYCdvP-ArxFSsLLK09-val" style="width:3em;" title="" value=""></td>
		</tr>
		<tr style="height:37px;">
			<td>b</td>
			<td>Wagonjwa waliolazwa</td>
			<td style="padding:0px 3px 0px 3px;vertical-align:bottom;"><input id="I2esmPRclhf-acSiErf74cF-val" style="width:3em;" title="" value=""></td>
			<td style="padding:0px 3px 0px 3px;vertical-align:bottom;"><input id="I2esmPRclhf-ArxFSsLLK09-val" style="width:3em;" title="" value=""></td>
		</tr>
		<tr style="height:38px;">
			<td>c</td>
			<td><span style="font-family: Calibri; line-height: 18.9091px;">Waliopata</span>&#xA0;kitanda</td>
			<td style="padding:0px 3px 0px 3px;vertical-align:bottom;"><input id="kN9sdJM7u2K-acSiErf74cF-val" style="width:3em;" title="" value=""></td>
			<td style="padding:0px 3px 0px 3px;vertical-align:bottom;"><input id="kN9sdJM7u2K-ArxFSsLLK09-val" style="width:3em;" title="" value=""></td>
		</tr>
		<tr style="height:32px;">
			<td>d</td>
			<td><span style="font-family: Calibri; line-height: 18.9091px;">Waliokosa</span>&#xA0;kitanda</td>
			<td style="padding:0px 3px 0px 3px;vertical-align:bottom;"><input id="BuX9SfE0R1Q-acSiErf74cF-val" style="width:3em;" title="" value=""></td>
			<td style="padding:0px 3px 0px 3px;vertical-align:bottom;"><input id="BuX9SfE0R1Q-ArxFSsLLK09-val" style="width:3em;" title="" value=""></td>
		</tr>
	</tbody>
</table>


